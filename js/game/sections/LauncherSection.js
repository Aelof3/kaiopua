var KAIOPUA=function(d){var n,v,w,o,x,y,p,z,A,q,B,C,D,r,s,f;function E(){var b=a.mouse.x/a.screenWidth,c=a.mouse.y/a.screenHeight;n=b*v+(1-b)*w;o=c*x+(1-c)*y;p=b*z+(1-b)*A;q=(1-c)*B+c*C}function t(b,e){f.uniforms.screenWidth.value=a.screenWidth;f.uniforms.screenHeight.value=a.screenHeight;j.resize(b,e);c.aspect=b/e;c.updateProjectionMatrix();h.reset()}var a=d.shared=d.shared||{},i=d.game=d.game||{},F=d.effects=d.effects||{},i=i.sections=i.sections||{},e=i.launcher=i.launcher||{},k,c,G=-90*Math.PI/
180,g,h,H={colors:[984110,1921167,5413585,5413585,4545248],stops:[0,0.4,0.6,0.8,1],startBottom:!0},j,u,l,m;n=0;o=0;p=0;q=0;v=500;w=-500;x=250;y=-250;z=1E3;A=-1E3;B=1E3;C=0;e.init=function(){c=new THREE.Camera(60,a.screenWidth/a.screenHeight,1,1E4);c.position.set(-5800,0,0);c.target.position.set(0,0,0);g=new THREE.Scene;var b=THREE.ShaderExtras.screen,d=F.FocusVignette;j=F.LinearGradient.generate(H);D=new THREE.RenderPass(j.scene,j.camera);r=new THREE.RenderPass(g,c);s=new THREE.ShaderPass(b);f=new THREE.ShaderPass(d);
s.renderToScreen=!0;r.clear=!1;f.uniforms.screenWidth.value=a.screenWidth;f.uniforms.screenHeight.value=a.screenHeight;f.uniforms.vingenettingOffset.value=0.6;f.uniforms.vingenettingDarkening.value=0.5;f.uniforms.sampleDistance.value=0.2;f.uniforms.waveFactor.value=0.3;b=new THREE.AmbientLight(13421772);d=new THREE.DirectionalLight(16777215,1);d.position=(new THREE.Vector3(-1,1,-1)).normalize();g.addLight(b);g.addLight(d);g.fog=new THREE.Fog(5413585,-100,1E4);l=e.water;l.init({wavesColor:g.fog.color.getHex()});
b=l.get_environment();b.rotation.x=G;g.addObject(b);m=e.sky;m.init();b=m.get_environment();b.position.x=0;b.position.y=2E3;b.rotation.y=G;g.addObject(b);k=a.renderer;h=new THREE.EffectComposer(k);h.addPass(D);h.addPass(r);h.addPass(f);h.addPass(s)};e.show=function(){a.renderer.sortObjects=!1;a.signals.mousemoved.add(E);a.signals.windowresized.add(t)};e.hide=function(){a.signals.mousemoved.remove(E);a.signals.windowresized.remove(t)};e.remove=function(){a.renderer.sortObjects=!0};e.update=function(){u=
(new Date).getTime();c.position.z+=(n-c.position.z)*0.01;c.position.y+=(-o-c.position.y)*0.01;c.target.position.z+=(p-c.target.position.z)*0.05;c.target.position.y+=(q-c.target.position.y)*0.05;m.wind_blow(u);l.waves(u);k.setViewport(0,0,a.screenWidth,a.screenHeight);k.clear();h.render()};e.resize=t;return d}(KAIOPUA||{});
