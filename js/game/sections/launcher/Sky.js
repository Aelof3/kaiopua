var KAIOPUA=function(e){e.shared=e.shared||{};var d=e.game=e.game||{},d=d.sections=d.sections||{},d=d.launcher=d.launcher||{},d=d.sky=d.sky||{},n=2E4,t=2E3,u=1E4,i=40,x=-Math.PI*0.25,v=Math.PI*0.25,k,o=-1,p=4,q=1,y=1E3,z=500,A={min:400,max:600},B={min:0,max:1E3},C={w:1,h:0.5,d:0},D=100,E=6,F=4,w,G=[],H;d.init=function(a){var c,d,a=a||{};n=a.skyWidth||n;t=a.skyHeight||t;u=a.skyDepth||u;i=a.numClouds||i;x=a.lightAngle||x;v=a.lightAngleVariation||v;o=a.windDirection||o;p=a.windSpeedMax||p;q=a.windSpeedMin||
q;y=a.cloudWidth||y;z=a.cloudDepth||z;A=a.cloudHeightStart||A;B=a.cloudHeightEnd||B;C=a.cloudScaleVariation||C;D=a.numPlanesPerCloud||D;E=a.cloudPlaneScaleStart||E;F=a.cloudPlaneScaleEnd||F;H=new THREE.Object3D;w=THREE.ImageUtils.loadTexture("assets/textures/cloud256.png",THREE.UVMapping);w.minFilter=w.magFilter=THREE.LinearFilter;for(a=0;a<i;a+=1){d=(i-a)/i;var b=c=void 0,e=void 0,j=void 0,r=void 0,l=void 0,m=void 0,f=void 0,g=void 0,k=void 0,J=void 0,h=b=void 0,I=void 0,K=void 0,s=h=void 0;c=c||
{};r=c.numPlanes||D;k=c.planeScaleStart||E;J=c.planeScaleEnd||F;b=c.scaleVariation||C;l=c.width||y;f=c.heightStart||A;g=c.heightEnd||B;m=c.depth||z;l+=Math.random()*l*b.w-l*b.w*0.5;f.max+=Math.random()*f.max*b.h-f.max*b.h*0.5;f.min+=Math.random()*f.min*b.h-f.min*b.h*0.5;g.max+=Math.random()*g.max*b.h-g.max*b.h*0.5;g.min+=Math.random()*g.min*b.h-g.min*b.h*0.5;m+=Math.random()*m*b.d-m*b.d*0.5;e=new THREE.MeshBasicMaterial({color:16777215,depthTest:!1,map:w});b=new THREE.Geometry;j=new THREE.Mesh(new THREE.PlaneGeometry(256,
256));for(s=0;s<r;s+=1)h=(r-s)/r,I=k*(1-h)+J*h,K=f.max+(g.max-f.max)*h,h=f.min+(g.min-f.min)*h,j.position.x=Math.random()*Math.random()*l*2-l,j.position.y=Math.random()*Math.random()*(K-h)+h,j.position.z=s*(m/r)-m*0.5,j.rotation.z=x+(Math.random()*v*2-v),j.scale.x=j.scale.y=Math.random()*Math.random()*I+I*0.3,THREE.GeometryUtils.merge(b,j);c=new THREE.Mesh(b,e);c.position.x=Math.random()*n-n*0.5;c.position.y=Math.random()*t-t*0.5;c.position.z=u*d-u*0.5;G[G.length]=c;H.addChild(c)}};d.wind_blow=function(a,
c,d,b){var e;k=k||a;e=1-(a-k)/60;k=a;o=c||o;p=d||p;q=b||q;b=n*0.5;d=-b;for(a=0;a<i;a+=1)if(cloud=G[a],c=(i-a)/i,cloud.position.x+=e*o*(p*c+q*(1-c)),cloud.position.x>b)cloud.position.x=d;else if(cloud.position.x<d)cloud.position.x=b};d.get_environment=function(){return H};return e}(KAIOPUA||{});
