THREE.EffectComposer=function(a,c){this.renderer=a;this.renderTarget1=c;if(this.renderTarget1===void 0)this.renderTargetParameters={minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat,stencilBufer:!1},this.renderTarget1=new THREE.WebGLRenderTarget(window.innerWidth,window.innerHeight,this.renderTargetParameters);this.renderTarget2=this.renderTarget1.clone();this.writeBuffer=this.renderTarget1;this.readBuffer=this.renderTarget2;this.passes=[];this.copyPass=new THREE.ShaderPass(THREE.ShaderExtras.screen)};
THREE.EffectComposer.prototype={swapBuffers:function(){var a=this.readBuffer;this.readBuffer=this.writeBuffer;this.writeBuffer=a},addPass:function(a){this.passes.push(a)},render:function(a){this.writeBuffer=this.renderTarget1;this.readBuffer=this.renderTarget2;var c=!1,b,e=this.passes.length;for(b=0;b<e;b++){this.passes[b].render(this.renderer,this.writeBuffer,this.readBuffer,a,c);if(this.passes[b].needsSwap){if(c){var d=this.renderer.context;d.stencilFunc(d.NOTEQUAL,1,4294967295);this.copyPass.render(this.renderer,
this.writeBuffer,this.readBuffer,a);d.stencilFunc(d.EQUAL,1,4294967295)}this.swapBuffers()}this.passes[b]instanceof THREE.MaskPass&&(c=!0);this.passes[b]instanceof THREE.ClearMaskPass&&(c=!1)}},reset:function(a){this.renderTarget1=a;if(this.renderTarget1===void 0)this.renderTarget1=new THREE.WebGLRenderTarget(window.innerWidth,window.innerHeight,this.renderTargetParameters);this.renderTarget2=this.renderTarget1.clone();this.writeBuffer=this.renderTarget1;this.readBuffer=this.renderTarget2;THREE.EffectComposer.quad.scale.set(window.innerWidth,
window.innerHeight,1);THREE.EffectComposer.camera.left=window.innerWidth/-2;THREE.EffectComposer.camera.right=window.innerWidth/2;THREE.EffectComposer.camera.top=window.innerHeight/2;THREE.EffectComposer.camera.bottom=window.innerHeight/-2;THREE.EffectComposer.camera.updateProjectionMatrix()}};THREE.EffectComposer.geometry=new THREE.PlaneGeometry(1,1);THREE.EffectComposer.quad=new THREE.Mesh(THREE.EffectComposer.geometry,null);THREE.EffectComposer.quad.position.z=-100;
THREE.EffectComposer.quad.scale.set(window.innerWidth,window.innerHeight,1);THREE.EffectComposer.scene=new THREE.Scene;THREE.EffectComposer.scene.addObject(THREE.EffectComposer.quad);THREE.EffectComposer.camera=new THREE.OrthoCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,-1E4,1E4);
