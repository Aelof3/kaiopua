/*!
 * Bootstrap Scroll Modal
 * Version: 1.0
 * Made for your convenience by @theericanderson
 * collinhover: updated to add correction for auto centering and scrolling on both x and y
 * A variaton of but a small piece of the insanely awesome Twitter Bootstrap (http://twitter.github.com/bootstrap)
 */
!function(e){var a=function(i,h){this.options=h;this.$element=e(i)};a.prototype={constructor:a,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var h=this;if(this.isShown){return}e("body").addClass("modal-open");this.isShown=true;this.$element.trigger("show");d.call(this);c.call(this,function(){var i=e.support.transition&&h.$element.hasClass("fade");!h.$element.parent().length&&h.$element.appendTo(document.body);h.$element.show();if(i){h.$element[0].offsetWidth}h.$element.addClass("in");if(h.options.dynamic){h.$element.css({"min-width":h.$element.width()});h.resize()}i?h.$element.one(e.support.transition.end,function(){h.$element.trigger("shown")}):h.$element.trigger("shown")})},hide:function(i){i&&i.preventDefault();if(!this.isShown){return}var h=this;this.isShown=false;e("body").removeClass("modal-open");d.call(this);this.$element.trigger("hide").removeClass("in");e.support.transition&&this.$element.hasClass("fade")?g.call(this):f.call(this)},resize:function(h){this.$elementWrapper.css({"margin-left":Math.max(-e(window).width()*0.5,-this.$element.width()*0.5),"margin-top":Math.max(-e(window).height()*0.5,-this.$element.height()*0.5)})}};function g(){var h=this,i=setTimeout(function(){h.$element.off(e.support.transition.end);f.call(h)},500);this.$element.one(e.support.transition.end,function(){clearTimeout(i);f.call(h)})}function f(h){this.$element.hide().trigger("hidden");e(window).off("resize.modal");c.call(this)}function c(k){var j=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var h=e.support.transition&&i;this.$backdrop=e('<div class="modal-backdrop '+i+'" />').insertBefore(this.$element);if(this.options.dynamic){this.$elementWrapper=e('<div class="modal-wrapper" />').prependTo(this.$backdrop).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this));this.$element.prependTo(this.$elementWrapper);e(window).on("resize.modal",e.proxy(this.resize,this))}else{this.$element.prependTo(this.$backdrop).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this))}if(this.options.backdrop!="static"){this.$backdrop.on("click",function(l){if(l.target==l.delegateTarget){j.hide(l)}})}if(h){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");h?this.$backdrop.one(e.support.transition.end,k):k()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(b,this)):b.call(this)}else{if(k){k()}}}}function b(){this.$element.insertAfter(this.$backdrop);this.$backdrop.remove();this.$backdrop=null;e("html").css({overflow:"auto"})}function d(){var h=this;if(this.isShown&&this.options.keyboard){e(document).on("keyup.dismiss.modal",function(i){i.which==27&&h.hide()})}else{if(!this.isShown){e(document).off("keyup.dismiss.modal")}}}e.fn.modal=function(h){return this.each(function(){var k=e(this),j=k.data("modal"),i=e.extend({},e.fn.modal.defaults,k.data(),typeof h=="object"&&h);if(!j){k.data("modal",(j=new a(this,i)))}if(typeof h=="string"){j[h]()}else{if(i.show){j.show()}}})};e.fn.modal.defaults={backdrop:true,keyboard:true,show:true};e.fn.modal.Constructor=a;e(function(){e("body").on("click.modal.data-api",'[data-toggle="modal"]',function(l){var k=e(this),i,h=e(k.attr("data-target")||(i=k.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),j=h.data("modal")?"toggle":e.extend({},h.data(),k.data());l.preventDefault();h.modal(j)})})}(window.jQuery);